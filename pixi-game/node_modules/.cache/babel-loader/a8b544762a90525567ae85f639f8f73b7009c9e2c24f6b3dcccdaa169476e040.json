{"ast":null,"code":"var _jsxFileName = \"/Users/jiahuajiang/Desktop/code/projects/abducted/pixi-game/src/Entities/character.js\",\n  _s = $RefreshSig$();\n// Character.js\nimport React, { useEffect, useRef } from 'react';\nimport * as PIXI from 'pixi.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Character = () => {\n  _s();\n  const app = useRef(null);\n  const character = useRef(null);\n  const gameLoop = () => {\n    if (character.current) {\n      character.current.x += character.current.vx;\n      character.current.y += character.current.vy;\n    }\n  };\n  useEffect(() => {\n    app.current = new PIXI.Application({\n      width: 800,\n      height: 600,\n      antialias: true,\n      transparent: false,\n      resolution: 1\n    });\n    document.querySelector(\"#character-container\").appendChild(app.current.view);\n    character.current = new PIXI.Sprite.from('character.png');\n    character.current.anchor.set(0.5);\n    character.current.x = app.current.screen.width / 2;\n    character.current.y = app.current.screen.height / 2;\n    character.current.vx = 0;\n    character.current.vy = 0;\n    app.current.stage.addChild(character.current);\n\n    // Setup keyboard events\n    const keys = {\n      w: setupKey('w', () => character.current.vy = -5, () => character.current.vy = 0),\n      a: setupKey('a', () => character.current.vx = -5, () => character.current.vx = 0),\n      s: setupKey('s', () => character.current.vy = 5, () => character.current.vy = 0),\n      d: setupKey('d', () => character.current.vx = 5, () => character.current.vx = 0)\n    };\n    app.current.ticker.add(gameLoop);\n  }, []);\n  const setupKey = (value, onPress, onRelease) => {\n    const key = {\n      value,\n      isDown: false,\n      isUp: true,\n      press: onPress,\n      release: onRelease\n    };\n    const downHandler = event => {\n      if (event.key === key.value) {\n        if (key.isUp && key.press) key.press();\n        key.isDown = true;\n        key.isUp = false;\n      }\n      event.preventDefault();\n    };\n    const upHandler = event => {\n      if (event.key === key.value) {\n        if (key.isDown && key.release) key.release();\n        key.isDown = false;\n        key.isUp = true;\n      }\n      event.preventDefault();\n    };\n    window.addEventListener(\"keydown\", downHandler.bind(key), false);\n    window.addEventListener(\"keyup\", upHandler.bind(key), false);\n    return key;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"character-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 10\n  }, this);\n};\n_s(Character, \"wius6M6zV5svWh6D0DiE+usaVsU=\");\n_c = Character;\nexport default Character;\nvar _c;\n$RefreshReg$(_c, \"Character\");","map":{"version":3,"names":["React","useEffect","useRef","PIXI","jsxDEV","_jsxDEV","Character","_s","app","character","gameLoop","current","x","vx","y","vy","Application","width","height","antialias","transparent","resolution","document","querySelector","appendChild","view","Sprite","from","anchor","set","screen","stage","addChild","keys","w","setupKey","a","s","d","ticker","add","value","onPress","onRelease","key","isDown","isUp","press","release","downHandler","event","preventDefault","upHandler","window","addEventListener","bind","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jiahuajiang/Desktop/code/projects/abducted/pixi-game/src/Entities/character.js"],"sourcesContent":["// Character.js\nimport React, { useEffect, useRef } from 'react';\nimport * as PIXI from 'pixi.js';\n\nconst Character = () => {\n  const app = useRef(null);\n  const character = useRef(null);\n  \n  const gameLoop = () => {\n    if (character.current) {\n      character.current.x += character.current.vx;\n      character.current.y += character.current.vy;\n    }\n  };\n\n  useEffect(() => {\n    app.current = new PIXI.Application({\n      width: 800, \n      height: 600,                       \n      antialias: true, \n      transparent: false, \n      resolution: 1\n    });\n\n    document.querySelector(\"#character-container\").appendChild(app.current.view);\n    character.current = new PIXI.Sprite.from('character.png');\n    character.current.anchor.set(0.5);\n    character.current.x = app.current.screen.width / 2;\n    character.current.y = app.current.screen.height / 2;\n    character.current.vx = 0;\n    character.current.vy = 0;\n\n    app.current.stage.addChild(character.current);\n\n    // Setup keyboard events\n    const keys = {\n      w: setupKey('w', () => character.current.vy = -5, () => character.current.vy = 0),\n      a: setupKey('a', () => character.current.vx = -5, () => character.current.vx = 0),\n      s: setupKey('s', () => character.current.vy = 5, () => character.current.vy = 0),\n      d: setupKey('d', () => character.current.vx = 5, () => character.current.vx = 0),\n    };\n\n    app.current.ticker.add(gameLoop);\n  }, []);\n\n  const setupKey = (value, onPress, onRelease) => {\n    const key = { value, isDown: false, isUp: true, press: onPress, release: onRelease };\n\n    const downHandler = (event) => {\n      if (event.key === key.value) {\n        if (key.isUp && key.press) key.press();\n        key.isDown = true;\n        key.isUp = false;\n      }\n      event.preventDefault();\n    };\n\n    const upHandler = (event) => {\n      if (event.key === key.value) {\n        if (key.isDown && key.release) key.release();\n        key.isDown = false;\n        key.isUp = true;\n      }\n      event.preventDefault();\n    };\n\n    window.addEventListener(\"keydown\", downHandler.bind(key), false);\n    window.addEventListener(\"keyup\", upHandler.bind(key), false);\n  \n    return key;\n  };\n\n  return <div id=\"character-container\" />;\n};\n\nexport default Character;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}