{"ast":null,"code":"var mapType = require('./mapType');\nvar defaultValue = require('./defaultValue');\n\n/**\n * Extracts the uniforms\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the uniforms from\n * @return uniforms {Object}\n */\nvar extractUniforms = function (gl, program) {\n  var uniforms = {};\n  var totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  for (var i = 0; i < totalUniforms; i++) {\n    var uniformData = gl.getActiveUniform(program, i);\n    var name = uniformData.name.replace(/\\[.*?\\]/, \"\");\n    var type = mapType(gl, uniformData.type);\n    uniforms[name] = {\n      type: type,\n      size: uniformData.size,\n      location: gl.getUniformLocation(program, name),\n      value: defaultValue(type, uniformData.size)\n    };\n  }\n  return uniforms;\n};\nmodule.exports = extractUniforms;","map":{"version":3,"names":["mapType","require","defaultValue","extractUniforms","gl","program","uniforms","totalUniforms","getProgramParameter","ACTIVE_UNIFORMS","i","uniformData","getActiveUniform","name","replace","type","size","location","getUniformLocation","value","module","exports"],"sources":["/Users/jiahuajiang/node_modules/pixi-gl-core/src/shader/extractUniforms.js"],"sourcesContent":["var mapType = require('./mapType');\nvar defaultValue = require('./defaultValue');\n\n/**\n * Extracts the uniforms\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the uniforms from\n * @return uniforms {Object}\n */\nvar extractUniforms = function(gl, program)\n{\n\tvar uniforms = {};\n\n    var totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (var i = 0; i < totalUniforms; i++)\n    {\n    \tvar uniformData = gl.getActiveUniform(program, i);\n    \tvar name = uniformData.name.replace(/\\[.*?\\]/, \"\");\n        var type = mapType(gl, uniformData.type );\n\n    \tuniforms[name] = {\n    \t\ttype:type,\n    \t\tsize:uniformData.size,\n    \t\tlocation:gl.getUniformLocation(program, name),\n    \t\tvalue:defaultValue(type, uniformData.size)\n    \t};\n    }\n\n\treturn uniforms;\n};\n\nmodule.exports = extractUniforms;\n"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AAClC,IAAIC,YAAY,GAAGD,OAAO,CAAC,gBAAgB,CAAC;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIE,eAAe,GAAG,SAAAA,CAASC,EAAE,EAAEC,OAAO,EAC1C;EACC,IAAIC,QAAQ,GAAG,CAAC,CAAC;EAEd,IAAIC,aAAa,GAAGH,EAAE,CAACI,mBAAmB,CAACH,OAAO,EAAED,EAAE,CAACK,eAAe,CAAC;EAEvE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,aAAa,EAAEG,CAAC,EAAE,EACtC;IACC,IAAIC,WAAW,GAAGP,EAAE,CAACQ,gBAAgB,CAACP,OAAO,EAAEK,CAAC,CAAC;IACjD,IAAIG,IAAI,GAAGF,WAAW,CAACE,IAAI,CAACC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;IAC/C,IAAIC,IAAI,GAAGf,OAAO,CAACI,EAAE,EAAEO,WAAW,CAACI,IAAK,CAAC;IAE5CT,QAAQ,CAACO,IAAI,CAAC,GAAG;MAChBE,IAAI,EAACA,IAAI;MACTC,IAAI,EAACL,WAAW,CAACK,IAAI;MACrBC,QAAQ,EAACb,EAAE,CAACc,kBAAkB,CAACb,OAAO,EAAEQ,IAAI,CAAC;MAC7CM,KAAK,EAACjB,YAAY,CAACa,IAAI,EAAEJ,WAAW,CAACK,IAAI;IAC1C,CAAC;EACF;EAEH,OAAOV,QAAQ;AAChB,CAAC;AAEDc,MAAM,CAACC,OAAO,GAAGlB,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}