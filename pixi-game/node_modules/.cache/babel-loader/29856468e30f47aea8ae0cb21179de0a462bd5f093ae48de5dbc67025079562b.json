{"ast":null,"code":"// character.js\nimport * as PIXI from 'pixi.js';\nexport const createCharacter = app => {\n  let character = PIXI.Sprite.from('character.png'); // Load your character image\n\n  character.x = app.screen.width / 2;\n  character.y = app.screen.height / 2;\n  character.anchor.set(0.5);\n  character.vx = 0;\n  character.vy = 0;\n  let left = keyboard(\"a\"),\n    up = keyboard(\"w\"),\n    right = keyboard(\"d\"),\n    down = keyboard(\"s\");\n  left.press = () => {\n    character.vx = -5;\n  };\n  left.release = () => {\n    if (!right.isDown) {\n      character.vx = 0;\n    }\n  };\n  up.press = () => {\n    character.vy = -5;\n  };\n  up.release = () => {\n    if (!down.isDown) {\n      character.vy = 0;\n    }\n  };\n  right.press = () => {\n    character.vx = 5;\n  };\n  right.release = () => {\n    if (!left.isDown) {\n      character.vx = 0;\n    }\n  };\n  down.press = () => {\n    character.vy = 5;\n  };\n  down.release = () => {\n    if (!up.isDown) {\n      character.vy = 0;\n    }\n  };\n  return character;\n};\n\n// Helper function to handle keyboard events\nfunction keyboard(value) {\n  let key = {};\n  key.value = value;\n  key.isDown = false;\n  key.isUp = true;\n  key.press = undefined;\n  key.release = undefined;\n  key.downHandler = event => {\n    if (event.key === key.value) {\n      if (key.isUp && key.press) key.press();\n      key.isDown = true;\n      key.isUp = false;\n    }\n    event.preventDefault();\n  };\n  key.upHandler = event => {\n    if (event.key === key.value) {\n      if (key.isDown && key.release) key.release();\n      key.isDown = false;\n      key.isUp = true;\n    }\n    event.preventDefault();\n  };\n  window.addEventListener(\"keydown\", key.downHandler.bind(key), false);\n  window.addEventListener(\"keyup\", key.upHandler.bind(key), false);\n  return key;\n}","map":{"version":3,"names":["PIXI","createCharacter","app","character","Sprite","from","x","screen","width","y","height","anchor","set","vx","vy","left","keyboard","up","right","down","press","release","isDown","value","key","isUp","undefined","downHandler","event","preventDefault","upHandler","window","addEventListener","bind"],"sources":["/Users/jiahuajiang/Desktop/code/projects/abducted/pixi-game/src/Entities/character.js"],"sourcesContent":["// character.js\nimport * as PIXI from 'pixi.js';\n\nexport const createCharacter = (app) => {\n  let character = PIXI.Sprite.from('character.png'); // Load your character image\n\n  character.x = app.screen.width / 2;\n  character.y = app.screen.height / 2;\n  character.anchor.set(0.5);\n  character.vx = 0;\n  character.vy = 0;\n\n  let left = keyboard(\"a\"),\n      up = keyboard(\"w\"),\n      right = keyboard(\"d\"),\n      down = keyboard(\"s\");\n\n  left.press = () => {\n    character.vx = -5;\n  };\n  left.release = () => {\n    if (!right.isDown) {\n      character.vx = 0;\n    }\n  };\n\n  up.press = () => {\n    character.vy = -5;\n  };\n  up.release = () => {\n    if (!down.isDown) {\n      character.vy = 0;\n    }\n  };\n\n  right.press = () => {\n    character.vx = 5;\n  };\n  right.release = () => {\n    if (!left.isDown) {\n      character.vx = 0;\n    }\n  };\n\n  down.press = () => {\n    character.vy = 5;\n  };\n  down.release = () => {\n    if (!up.isDown) {\n      character.vy = 0;\n    }\n  };\n\n  return character;\n}\n\n// Helper function to handle keyboard events\nfunction keyboard(value) {\n  let key = {};\n  key.value = value;\n  key.isDown = false;\n  key.isUp = true;\n  key.press = undefined;\n  key.release = undefined;\n  \n  key.downHandler = event => {\n    if (event.key === key.value) {\n      if (key.isUp && key.press) key.press();\n      key.isDown = true;\n      key.isUp = false;\n    }\n    event.preventDefault();\n  };\n\n  key.upHandler = event => {\n    if (event.key === key.value) {\n      if (key.isDown && key.release) key.release();\n      key.isDown = false;\n      key.isUp = true;\n    }\n    event.preventDefault();\n  };\n\n  window.addEventListener(\n    \"keydown\", key.downHandler.bind(key), false\n  );\n  window.addEventListener(\n    \"keyup\", key.upHandler.bind(key), false\n  );\n\n  return key;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}